<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Hacking Team 信息可视化</title>

    <link href="../lib/nvd3/build/nv.d3.css" rel="stylesheet" type="text/css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js" charset="utf-8"></script>
    <script src="../lib/nvd3/build/nv.d3.js"></script>

    <style>
        text {
            font: 12px sans-serif;
        }

        svg {
            display: block;
        }
        html, body, #chart1, svg {
            margin: 0px;
            padding: 0px;
            height: 100%;
            width: 100%;
        }
        button {
            margin: 2px;
            margin-left: 80px;
        }
        slt{
            color:black;
            align="center";
            font-size:32px;
        }
    </style>
</head>
<body>
<div>
    <slt> 内部邮件外部邮件时序图</slt>
    <button onclick="window.location.href='../catogary.html'">Catogary</button>

    <button onclick="window.location.href='./worktime.html'">Back</button>

    <button onclick="window.location.href='./dynamic-data2.html'">Continue</button>
</div>

<div id="chart1" class='with-3d-shadow with-transitions'>
    <svg> </svg>
</div>

<script>

    var testdata = [
        {
            "key" : "内部邮件" ,
            "bar": true,
            "values" : [ 
                [ 1128096000000 , 103 ],[ 1130774400000 , 171 ],[ 1133366400000 , 259 ],[ 1136044800000 , 252 ],[ 1138723200000 , 297 ],[ 1141142400000 , 261 ],[ 1143820800000 , 226 ],[ 1146412800000 , 300 ],[ 1149091200000 , 281 ],[ 1151683200000 , 329 ],[ 1154361600000 , 171 ],[ 1157040000000 , 211 ],[ 1159632000000 , 208 ],[ 1162310400000 , 141 ],[ 1164902400000 , 87 ],[ 1167580800000 , 105 ],[ 1170259200000 , 118 ],[ 1172678400000 , 181 ],[ 1175356800000 , 129 ],[ 1177948800000 , 114 ],[ 1180627200000 , 174 ],[ 1183219200000 , 95 ],[ 1185897600000 , 56 ],[ 1188576000000 , 178 ],[ 1191168000000 , 335 ],[ 1193846400000 , 274 ],[ 1196438400000 , 213 ],[ 1199116800000 , 467 ],[ 1201795200000 , 463 ],[ 1204300800000 , 227 ],[ 1206979200000 , 283 ],[ 1209571200000 , 237 ],[ 1212249600000 , 242 ],[ 1214841600000 , 402 ],[ 1217520000000 , 244 ],[ 1220198400000 , 296 ],[ 1222790400000 , 335 ],[ 1225468800000 , 248 ],[ 1228060800000 , 446 ],[ 1230739200000 , 480 ],[ 1233417600000 , 560 ],[ 1235836800000 , 237 ],[ 1238515200000 , 648 ],[ 1241107200000 , 428 ],[ 1243785600000 , 245 ],[ 1246377600000 , 340 ],[ 1249056000000 , 81 ],[ 1251734400000 , 304 ],[ 1254326400000 , 399 ],[ 1257004800000 , 349 ],[ 1259596800000 , 1023 ],[ 1262275200000 , 338 ],[ 1264953600000 , 465 ],[ 1267372800000 , 374 ],[ 1270051200000 , 389 ],[ 1272643200000 , 560 ],[ 1275321600000 , 621 ],[ 1277913600000 , 868 ],[ 1280592000000 , 349 ],[ 1283270400000 , 609 ],[ 1285862400000 , 566 ],[ 1288540800000 , 1023 ],[ 1291132800000 , 1067 ],[ 1293811200000 , 2097 ],[ 1296489600000 , 2102 ],[ 1298908800000 , 3474 ],[ 1301587200000 , 2645 ],[ 1304179200000 , 2578 ],[ 1306857600000 , 5425 ],[ 1309449600000 , 9243 ],[ 1312128000000 , 4012 ],[ 1314806400000 , 6827 ],[ 1317398400000 , 7993 ],[ 1320076800000 , 7578 ],[ 1322668800000 , 5075 ],[ 1325347200000 , 7678 ],[ 1328025600000 , 4302 ],[ 1330531200000 , 4770 ],[ 1333209600000 , 7095 ],[ 1335801600000 , 13664 ],[ 1338480000000 , 8107 ],[ 1341072000000 , 12282 ],[ 1343750400000 , 11068 ],[ 1346428800000 , 7019 ],[ 1349020800000 , 11418 ],[ 1351699200000 , 16879 ],[ 1354291200000 , 13716 ],[ 1356969600000 , 15566 ],[ 1359648000000 , 15322 ],[ 1362067200000 , 14579 ],[ 1364745600000 , 13550 ],[ 1367337600000 , 13966 ],[ 1370016000000 , 12766 ],[ 1372608000000 , 17283 ],[ 1375286400000 , 29139 ],[ 1377964800000 , 50127 ],[ 1380556800000 , 58841 ],[ 1383235200000 , 51657 ],[ 1385827200000 , 64072 ],[ 1388505600000 , 81948 ],[ 1391184000000 , 52838 ],[ 1393603200000 , 63687 ],[ 1396281600000 , 56246 ],[ 1398873600000 , 54975 ],[ 1401552000000 , 66831 ],[ 1404144000000 , 73056 ],[ 1406822400000 , 94120 ],[ 1409500800000 , 77778 ],[ 1412092800000 , 98391 ],[ 1414771200000 , 85512 ],[ 1417363200000 , 98362 ],[ 1420041600000 , 96003 ],[ 1422720000000 , 97656 ],[ 1425139200000 , 103413 ],[ 1427817600000 , 129151 ],[ 1430409600000 , 151673 ],[ 1433088000000 , 29541 ]
            ]
        },
        {
            "key" : "外部邮件" ,
            "values" : [ 
            [ 978278400000 , 1 ],[ 991324800000 , 2 ],[ 1009814400000 , 2 ],[ 1012492800000 , 1 ],[ 1049126400000 , 1 ],[ 1067616000000 , 1 ],[ 1070208000000 , 13 ],[ 1072886400000 , 2 ],[ 1128096000000 , 26 ],[ 1130774400000 , 73 ],[ 1133366400000 , 39 ],[ 1136044800000 , 117 ],[ 1138723200000 , 46 ],[ 1141142400000 , 74 ],[ 1143820800000 , 60 ],[ 1146412800000 , 44 ],[ 1149091200000 , 68 ],[ 1151683200000 , 15 ],[ 1154361600000 , 22 ],[ 1157040000000 , 24 ],[ 1159632000000 , 56 ],[ 1162310400000 , 43 ],[ 1164902400000 , 28 ],[ 1167580800000 , 25 ],[ 1170259200000 , 5 ],[ 1172678400000 , 52 ],[ 1175356800000 , 18 ],[ 1177948800000 , 19 ],[ 1180627200000 , 26 ],[ 1183219200000 , 33 ],[ 1185897600000 , 15 ],[ 1188576000000 , 24 ],[ 1191168000000 , 15 ],[ 1193846400000 , 15 ],[ 1196438400000 , 30 ],[ 1199116800000 , 60 ],[ 1201795200000 , 132 ],[ 1204300800000 , 67 ],[ 1206979200000 , 46 ],[ 1209571200000 , 10 ],[ 1212249600000 , 73 ],[ 1214841600000 , 106 ],[ 1217520000000 , 37 ],[ 1220198400000 , 98 ],[ 1222790400000 , 47 ],[ 1225468800000 , 30 ],[ 1228060800000 , 32 ],[ 1230739200000 , 95 ],[ 1233417600000 , 109 ],[ 1235836800000 , 70 ],[ 1238515200000 , 49 ],[ 1241107200000 , 83 ],[ 1243785600000 , 99 ],[ 1246377600000 , 142 ],[ 1249056000000 , 20 ],[ 1251734400000 , 87 ],[ 1254326400000 , 145 ],[ 1257004800000 , 59 ],[ 1259596800000 , 195 ],[ 1262275200000 , 98 ],[ 1264953600000 , 74 ],[ 1267372800000 , 87 ],[ 1270051200000 , 178 ],[ 1272643200000 , 187 ],[ 1275321600000 , 148 ],[ 1277913600000 , 156 ],[ 1280592000000 , 65 ],[ 1283270400000 , 188 ],[ 1285862400000 , 236 ],[ 1288540800000 , 632 ],[ 1291132800000 , 833 ],[ 1293811200000 , 1080 ],[ 1296489600000 , 849 ],[ 1298908800000 , 1532 ],[ 1301587200000 , 975 ],[ 1304179200000 , 1158 ],[ 1306857600000 , 1578 ],[ 1309449600000 , 1748 ],[ 1312128000000 , 1381 ],[ 1314806400000 , 2660 ],[ 1317398400000 , 2055 ],[ 1320076800000 , 1348 ],[ 1322668800000 , 1472 ],[ 1325347200000 , 1281 ],[ 1328025600000 , 856 ],[ 1330531200000 , 1353 ],[ 1333209600000 , 1414 ],[ 1335801600000 , 2630 ],[ 1338480000000 , 1675 ],[ 1341072000000 , 3180 ],[ 1343750400000 , 2589 ],[ 1346428800000 , 2273 ],[ 1349020800000 , 3285 ],[ 1351699200000 , 4197 ],[ 1354291200000 , 3879 ],[ 1356969600000 , 5408 ],[ 1359648000000 , 6823 ],[ 1362067200000 , 8811 ],[ 1364745600000 , 5743 ],[ 1367337600000 , 5504 ],[ 1370016000000 , 4583 ],[ 1372608000000 , 7637 ],[ 1375286400000 , 11307 ],[ 1377964800000 , 20279 ],[ 1380556800000 , 19280 ],[ 1383235200000 , 19522 ],[ 1385827200000 , 18563 ],[ 1388505600000 , 22057 ],[ 1391184000000 , 21218 ],[ 1393603200000 , 23573 ],[ 1396281600000 , 24677 ],[ 1398873600000 , 18817 ],[ 1401552000000 , 19399 ],[ 1404144000000 , 21989 ],[ 1406822400000 , 17892 ],[ 1409500800000 , 27547 ],[ 1412092800000 , 27829 ],[ 1414771200000 , 28873 ],[ 1417363200000 , 32688 ],[ 1420041600000 , 25616 ],[ 1422720000000 , 28392 ],[ 1425139200000 , 39596 ],[ 1427817600000 , 34449 ],[ 1430409600000 , 56314 ],[ 1433088000000 , 12163 ],[ 1451577600000 , 2 ]
            ]
        }
    ].map(function(series) {
            series.values = series.values.map(function(d) { return {x: d[0], y: d[1] } });
            return series;
        });

    var chart;
    nv.addGraph(function() {
        chart = nv.models.linePlusBarChart()
            .margin({top: 50, right: 80, bottom: 30, left: 80})
            .legendRightAxisHint(' [Right Axis]')
            .color(d3.scale.category10().range());

        chart.xAxis.tickFormat(function(d) {
            return d3.time.format('%x')(new Date(d))
        }).showMaxMin(false);

        chart.y2Axis.tickFormat(function(d) { return '' + d3.format(',f')(d) });
        chart.bars.forceY([0]).padData(false);

        chart.x2Axis.tickFormat(function(d) {
            return d3.time.format('%x')(new Date(d))
        }).showMaxMin(false);

        d3.select('#chart1 svg')
            .datum(testdata)
            .transition().duration(500).call(chart);

        nv.utils.windowResize(chart.update);

        chart.dispatch.on('stateChange', function(e) { nv.log('New State:', JSON.stringify(e)); });

        return chart;
    });

</script>
</body>
</html>
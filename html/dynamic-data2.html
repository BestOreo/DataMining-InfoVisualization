<!DOCTYPE html>
<html style="height: 100%">
   <head>
       <meta charset="utf-8">
   </head>
   <body style="height: 100%; margin: 0">
    <button onclick="window.location.href='../catogary.html'">Catogary</button>

<button onclick="window.location.href='./worktime.html'">Back</button>

<button onclick="window.location.href='./wordcloud.html'">Continue</button>

       <div id="container" style="height: 100%"></div>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts-all-3.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts-stat/ecStat.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/dataTool.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/china.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/world.js"></script>
       <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=ZUONbpqGBsYGXNIYHicvbAbM"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/bmap.min.js"></script>
       <script type="text/javascript" src="echarts-wordcloud.js"></script>

       <script type="text/javascript">
var dom = document.getElementById("container");
var myChart = echarts.init(dom);
var app = {};
option = null;


var testdata = [
    {
        "key" : "Email" ,
        "bar": true,
        "values" : [
            [978278400000,1],[991324800000,2],[1009814400000,2],[1012492800000,1],[1049126400000,1],[1067616000000,1],[1070208000000,2],[1072886400000,2],[1128096000000,86],[1130774400000,128],[1133366400000,148],[1136044800000,169],[1138723200000,163],[1141142400000,204],[1143820800000,166],[1146412800000,149],[1149091200000,163],[1151683200000,185],[1154361600000,123],[1157040000000,161],[1159632000000,147],[1162310400000,97],[1164902400000,71],[1167580800000,93],[1170259200000,95],[1172678400000,122],[1175356800000,92],[1177948800000,95],[1180627200000,112],[1183219200000,91],[1185897600000,59],[1188576000000,126],[1191168000000,195],[1193846400000,193],[1196438400000,135],[1199116800000,280],[1201795200000,249],[1204300800000,140],[1206979200000,181],[1209571200000,151],[1212249600000,170],[1214841600000,265],[1217520000000,158],[1220198400000,181],[1222790400000,201],[1225468800000,154],[1228060800000,216],[1230739200000,298],[1233417600000,252],[1235836800000,152],[1238515200000,260],[1241107200000,190],[1243785600000,153],[1246377600000,247],[1249056000000,59],[1251734400000,165],[1254326400000,220],[1257004800000,215],[1259596800000,288],[1262275200000,201],[1264953600000,226],[1267372800000,244],[1270051200000,255],[1272643200000,327],[1275321600000,316],[1277913600000,330],[1280592000000,211],[1283270400000,267],[1285862400000,329],[1288540800000,691],[1291132800000,653],[1293811200000,1428],[1296489600000,1115],[1298908800000,2219],[1301587200000,1288],[1304179200000,1640],[1306857600000,2800],[1309449600000,4100],[1312128000000,2061],[1314806400000,3522],[1317398400000,3856],[1320076800000,3309],[1322668800000,2722],[1325347200000,3076],[1328025600000,2052],[1330531200000,2471],[1333209600000,2957],[1335801600000,5561],[1338480000000,3545],[1341072000000,5424],[1343750400000,5107],[1346428800000,3376],[1349020800000,4709],[1351699200000,7300],[1354291200000,6276],[1356969600000,7527],[1359648000000,8367],[1362067200000,8095],[1364745600000,7440],[1367337600000,8677],[1370016000000,8029],[1372608000000,11286],[1375286400000,15522],[1377964800000,29753],[1380556800000,38389],[1383235200000,35294],[1385827200000,37627],[1388505600000,49507],[1391184000000,38004],[1393603200000,39891],[1396281600000,35572],[1398873600000,31977],[1401552000000,38174],[1404144000000,40014],[1406822400000,37240],[1409500800000,47086],[1412092800000,54769],[1414771200000,49843],[1417363200000,55981],[1420041600000,54948],[1422720000000,58158],[1425139200000,66864],[1427817600000,63541],[1430409600000,95964],[1433088000000,22436],[1451577600000,2]
        ]
    },
    {
        "key" : "Staff" ,
        "values" : [
            [978278400000, 1], [1009814400000, 1], [1012492800000, 1], [1072886400000, 1], [1128096000000, 6], [1130774400000, 7], [1133366400000, 9], [1136044800000, 8], [1138723200000, 10], [1141142400000, 7], [1143820800000, 8], [1146412800000, 8], [1149091200000, 8], [1151683200000, 10], [1154361600000, 7], [1157040000000, 7], [1159632000000, 7], [1162310400000, 7], [1164902400000, 6], [1167580800000, 6], [1170259200000, 7], [1172678400000, 7], [1175356800000, 7], [1177948800000, 6], [1180627200000, 11], [1183219200000, 6], [1185897600000, 5], [1188576000000, 9], [1191168000000, 10], [1193846400000, 9], [1196438400000, 9], [1199116800000, 12], [1201795200000, 10], [1204300800000, 10], [1206979200000, 12], [1209571200000, 12], [1212249600000, 11], [1214841600000, 10], [1217520000000, 12], [1220198400000, 12], [1222790400000, 14], [1225468800000, 11], [1228060800000, 14], [1230739200000, 14], [1233417600000, 16], [1235836800000, 12], [1238515200000, 13], [1241107200000, 14], [1243785600000, 11], [1246377600000, 12], [1249056000000, 8], [1251734400000, 11], [1254326400000, 14], [1257004800000, 12], [1259596800000, 17], [1262275200000, 14], [1264953600000, 12], [1267372800000, 15], [1270051200000, 16], [1272643200000, 16], [1275321600000, 17], [1277913600000, 18], [1280592000000, 14], [1283270400000, 17], [1285862400000, 17], [1288540800000, 18], [1291132800000, 17], [1293811200000, 25], [1296489600000, 34], [1298908800000, 25], [1301587200000, 25], [1304179200000, 26], [1306857600000, 24], [1309449600000, 25], [1312128000000, 33], [1314806400000, 34], [1317398400000, 38], [1320076800000, 29], [1322668800000, 23], [1325347200000, 25], [1328025600000, 25], [1330531200000, 21], [1333209600000, 24], [1335801600000, 26], [1338480000000, 26], [1341072000000, 29], [1343750400000, 32], [1346428800000, 41], [1349020800000, 42], [1351699200000, 41], [1354291200000, 40], [1356969600000, 37], [1359648000000, 42], [1362067200000, 44], [1364745600000, 40], [1367337600000, 44], [1370016000000, 44], [1372608000000, 72], [1375286400000, 74], [1377964800000, 79], [1380556800000, 84], [1383235200000, 67], [1385827200000, 70], [1388505600000, 72], [1391184000000, 72], [1393603200000, 79], [1396281600000, 77], [1398873600000, 77], [1401552000000, 82], [1404144000000, 78], [1406822400000, 76], [1409500800000, 79], [1412092800000, 84], [1414771200000, 84], [1417363200000, 82], [1420041600000, 83], [1422720000000, 85], [1425139200000, 89], [1427817600000, 88], [1430409600000, 94], [1433088000000, 71], [1451577600000, 1]

        ]
    }
];
var dataBar=[];
var dataLine=[];

for(var i=0;i<testdata[0].values.length;i++)
{
    var testDay=new Date(testdata[0].values[i][0]);
    dataBar.push({
        name:testDay.toString(),
        value:[[testDay.getFullYear(),testDay.getMonth()+1,testDay.getDate()].join('/'),
            testdata[0].values[i][1]
        ]
    })
}
for(var i=0;i<testdata[1].values.length;i++)
{
    var testDay=new Date(testdata[1].values[i][0]);
    dataLine.push({
        name:testDay.toString(),
        value:[[testDay.getFullYear(),testDay.getMonth()+1,testDay.getDate()].join('/'),
            testdata[1].values[i][1]
        ]
    });
}


var dataCloud=[[{
    name: 'Azerbaijan',
    value: 3260
},
    {
        name: 'Demo India',
        value: 2299
    },
    {
        name: 'Corsi prossima settimana',
        value: 1415
    },
    {
        name: 'Rosso Pomodoro',
        value: 1337
    },
    {
        name: 'Expression of Interest',
        value: 1213
    },
    {
        name: 'Urgent',
        value: 986
    },
    {
        name: 'Delivery Azerbaijan',
        value: 973
    },
    {
        name: 'Kuwait Oppertunity',
        value: 937
    },
    {
        name: 'Prototipo valigetta',
        value: 923
    },
    {
        name: 'RCS',
        value: 900
    },
    {
        name: 'Azerbaijan Delivery Confirmation',
        value: 893
    },
    {
        name: 'Oman - Knowledge transfer',
        value: 741
    },
    {
        name: 'Training presso HT',
        value: 695
    },
    {
        name: 'Presentations and Demonstrations in Israel',
        value: 605
    },
    {
        name: 'Georgia',
        value: 596
    }],

    [{
        name: 'Mobile Hacking',
        value: 3278
    },
        {
            name: 'APE luned',
            value: 3250
        },
        {
            name: 'Delivery and Training',
            value: 3070
        },
        {
            name: 'TNI Opportunity - RFP Released',
            value: 2609
        },
        {
            name: 'AV Monitor Results',
            value: 1881
        },
        {
            name: 'hardware test MKIH',
            value: 1845
        },
        {
            name: 'de Nova Proposta Comercial Considerando a do Escopo',
            value: 1634
        },
        {
            name: 'sul corriere',
            value: 1588
        },
        {
            name: 'trasferta moldova slovacchia',
            value: 1549
        },
        {
            name: 'Riunione exploit',
            value: 1382
        },
        {
            name: 'Dates for NICE deliveries',
            value: 1364
        },
        {
            name: 'Fallimento',
            value: 1291
        },
        {
            name: 'Opertunity update',
            value: 1237
        }],





    [{
        name: 'compagni di pranzo',
        value: 2334
    },
        {
            name: 'Puma - RCS delivery',
            value: 1827
        },
        {
            name: 'Italian Lasagna - Touch-Base',
            value: 1545
        },
        {
            name: 'Proposal for Indonesia',
            value: 1448
        },
        {
            name: 'Situation with Ecuador',
            value: 1445
        },
        {
            name: 'Payment',
            value: 1421
        },
        {
            name: 'Malaysia trip',
            value: 1246
        },
        {
            name: 'maintenance renewal Azerbaijan',
            value: 1205
        },
        {
            name: 'invitation letter training 17 - 21 march',
            value: 1155
        },
        {
            name: 'URL exploit support',
            value: 1146
        },
        {
            name: 'Olimpia Marcon',
            value: 1134
        },
        {
            name: 'Italian lasagna',
            value: 1120
        },
        {
            name: 'Tentative date for demo',
            value: 1014
        },
        {
            name: 'Specifications about features for Puma',
            value: 968
        },
        {
            name: 'Uzbeki customer',
            value: 865
        }],





    [{
        name: 'Pranzo gioved',
        value: 28448
    },
        {
            name: 'E Max si sposa!',
            value: 24049
        },
        {
            name: 'Arrivederci',
            value: 6642
        },
        {
            name: 'Puma DAT document 4595',
            value: 5031
        },
        {
            name: 'Campagna elettorale!!!',
            value: 4448
        },
        {
            name: 'demo Kazakstan',
            value: 4246
        },
        {
            name: 'Global Protect for Yosemite',
            value: 3750
        },
        {
            name: 'Urgent',
            value: 3586
        },
        {
            name: 'Financial Proposal-TRD-HT',
            value: 3553
        },
        {
            name: 'BAJA services not working',
            value: 3355
        },
        {
            name: 'Draft Contract - CNC - HT',
            value: 3304
        },
        {
            name: 'Tramezzino.it',
            value: 3207
        },
        {
            name: 'Delivery & Installation',
            value: 3050
        },
        {
            name: 'New member on board',
            value: 2868
        }]];






var choose=0;
var describeList=["第一阶段：2001/01-2013/06","第二阶段：2013/07-2014/01","第三阶段：2014/02-2014/05","第四阶段: 2014/06-2016"];
option={

    baseOption: {
        title: {
            text: "整体发展历程第一阶段Topic云图",
            left:'center'
        },
        tooltip: {
            trigger: 'axis',
            formatter: function (params) {
                console.log(params)
                params = params[0];
                var date = new Date(params.name);
                return date.getDate() + '/' + (date.getMonth() + 1) + '/' + date.getFullYear() + ' : ' + params.value[1];
            },
            axisPointer: {
                animation: false
            }
        },
        xAxis: {
            type: 'time',
            splitLine: {
                show: true
            }
        },
        yAxis: [
            {
                type: 'value',
                // boundaryGap: [0, '100%'],
                splitLine: {
                    show: false
                }
            },
            {
                type:'value'
            }
        ],
        series: [
            {
            name: '模拟数据',
            type: 'bar',
            showSymbol: false,
            hoverAnimation: false,
            data: dataBar
            },
            {
                name:'活跃人数',
                type:'line',
                yAxisIndex:[1],
                showSymbol:false,
                hoverAnimation: false,
                data: dataLine
            },
            {
                title:describeList[0],
                type: 'wordCloud',
                left:'10%',
                gridSize: 2,
                sizeRange: [12, 50],
                rotationRange: [-90, 90],
                shape: 'pentagon',
                width: 600,
                height: 400,
                drawOutOfBound: true,
                tooltip:{
                    show:true
                },
                textStyle: {
                    normal: {
                        color: function () {
                            return 'rgb(' + [
                                Math.round(Math.random() * 160),
                                Math.round(Math.random() * 160),
                                Math.round(Math.random() * 160)
                            ].join(',') + ')';
                        }
                    },
                    emphasis: {
                        shadowBlur: 10,
                        shadowColor: '#333'
                    }
                },
                data:dataCloud[0]
            }

        ]
    }
};





myChart.on('click',function (params) {
    console.log(params)
    if(params.seriesType=="wordCloud")
    {

    }
    else{
        console.log(params.value[0].split("/")[0]);
        var year=params.value[0].split("/")[0];
        var month=params.value[0].split("/")[1];
        if(year<2013)
        {
            option.baseOption.series[2].data=dataCloud[0]
            option.baseOption.title.text=describeList[0]
            myChart.setOption(option,true)
            choose=0;
        }
        else if(year>=2013&&year<2014)
        {
            option.baseOption.series[2].data=dataCloud[1]
            option.baseOption.title.text=describeList[1]
            myChart.setOption(option,true)
            choose=1;
        }
        else if(year==2014&&month<5)
        {
            option.baseOption.series[2].data=dataCloud[2]
            option.baseOption.title.text=describeList[2]
            myChart.setOption(option,true)
            choose=2;
        }
        else{
            option.baseOption.series[2].data=dataCloud[3]
            option.baseOption.title.text=describeList[3]
            myChart.setOption(option,true)
            choose=3;
        }
    }

});

if (option && typeof option === "object") {
    myChart.setOption(option, true);
}
       </script>
   </body>
</html>